{"remainingRequest":"/home/mauricio/Documentos/Projetos/Atividade 1/wiki-master-autoestudo-project-starter/autoestudo/project-starter/CRUD-Vuetify-Alunos-E-Cursos/vuetify-2-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mauricio/Documentos/Projetos/Atividade 1/wiki-master-autoestudo-project-starter/autoestudo/project-starter/CRUD-Vuetify-Alunos-E-Cursos/vuetify-2-project/src/views/formNewUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mauricio/Documentos/Projetos/Atividade 1/wiki-master-autoestudo-project-starter/autoestudo/project-starter/CRUD-Vuetify-Alunos-E-Cursos/vuetify-2-project/src/views/formNewUser.vue","mtime":1583867407989},{"path":"/home/mauricio/Documentos/Projetos/Atividade 1/wiki-master-autoestudo-project-starter/autoestudo/project-starter/CRUD-Vuetify-Alunos-E-Cursos/vuetify-2-project/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/mauricio/Documentos/Projetos/Atividade 1/wiki-master-autoestudo-project-starter/autoestudo/project-starter/CRUD-Vuetify-Alunos-E-Cursos/vuetify-2-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mauricio/Documentos/Projetos/Atividade 1/wiki-master-autoestudo-project-starter/autoestudo/project-starter/CRUD-Vuetify-Alunos-E-Cursos/vuetify-2-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbInRvIiwgImludmFsaWRUb2tlbiJdLAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICB2YWxpZDogdHJ1ZSwKICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICBub21lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGhhYmlsaXRhZG86IHRydWUsCiAgICAgICAgZXJyb3I6ICcnLAogICAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgJ1JlcXVpcmVkLicsCiAgICAgICAgY291bnRlcjogdmFsdWUgPT4gdmFsdWUubGVuZ3RoIDw9IDIwIHx8ICdNYXggMjAgY2hhcmFjdGVycycsCiAgICAgICAgZW1haWw6IHZhbHVlID0+IHsKICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLwogICAgICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHZhbHVlKSB8fCAnSW52YWxpZCBlLW1haWwuJwogICAgICAgIH0sCiAgICAgIH0sCiAgICB9KSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgaWYgKHRoaXMuaW52YWxpZFRva2VuKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAnU3VhIHNlc3PDo28gZXhwaXJvdS4gRmHDp2EgbG9naW4gbm92YW1lbnRlJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25TdWJtaXQgKCkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F1dGgvbmV3VXNlcicsIHtub21lOiB0aGlzLm5vbWUsIGVtYWlsOiB0aGlzLmVtYWlsLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwgaGFiaWxpdGFkbzogdGhpcy5oYWJpbGl0YWRvfSkKICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzWydhdXRoL2lzQXV0aGVudGljYXRlZCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gJ0luZm9ybWHDp8O1ZXMgSW52w6FsaWRhczogVGVudGUgdW0gZW1haWwgZGlmZXJlbnRlLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoewogICAgICAgICAgICB0b2tlbjogc3RhdGUgPT4gc3RhdGUuYXV0aC50b2tlbgogICAgICAgIH0pCiAgICB9Cn07Cg=="},{"version":3,"sources":["formNewUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"formNewUser.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container fluid class=\"fill-height\">\n        <v-row align=\"center\" justify=\"center\">\n            <v-col cols=\"12\" sm=\"8\" md=\"4\" >\n                <v-card class=\"elevation-12\">\n                    <v-toolbar color=\"primary\" dark flat>\n                        <v-toolbar-title>Cadastro de Aluno</v-toolbar-title>\n                    </v-toolbar>\n                    <v-form @submit.prevent=\"onSubmit\" ref=\"form\" lazy-validation v-model=\"valid\">\n                        <v-card-text>\n                            <p class=\"error--text text-center\">{{error}}</p>\n                            <v-text-field label=\"Nome\" name=\"nome\" prepend-icon=\"person\" type=\"text\" v-model=\"nome\" required :rules=\"rules.required\"/>\n                            <v-text-field label=\"E-mail\" name=\"email\" prepend-icon=\"mdi-email\" type=\"text\" v-model=\"email\" required :rules=\"[rules.required, rules.email]\"/>\n                            <v-text-field id=\"password\" label=\"Password\" name=\"password\" prepend-icon=\"lock\" type=\"password\" v-model=\"password\" required :rules=\"rules.required\"/>\n                            <v-switch \n                            v-model=\"habilitado\"\n                            :label=\"`Usuário Ativo`\"\n                            class=\"mx-2\"\n                            ></v-switch>\n                        </v-card-text>\n                        <v-card-actions>\n                            <v-spacer />\n                            <v-btn color=\"primary\" type=\"submit\" :loading=\"loading\" large style=\"width: 100%;\">Cadastrar</v-btn>\n                        </v-card-actions>\n                    </v-form>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\n    import { mapGetters, mapState } from 'vuex'\n\n    export default {\n        props: [\"to\", \"invalidToken\"],\n        data: () => ({\n            valid: true,\n            loading: false,\n            nome: '',\n            email: '',\n            password: '',\n            habilitado: true,\n            error: '',\n            rules: {\n            required: value => !!value || 'Required.',\n            counter: value => value.length <= 20 || 'Max 20 characters',\n            email: value => {\n                const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n                return pattern.test(value) || 'Invalid e-mail.'\n            },\n          },\n        }),\n        created() {\n            if (this.invalidToken) {\n                this.error = 'Sua sessão expirou. Faça login novamente'\n            }\n        },\n        methods: {\n            onSubmit () {\n                this.loading = true\n                if (this.$refs.form.validate()) {\n                    this.$store.dispatch('auth/newUser', {nome: this.nome, email: this.email, password: this.password, habilitado: this.habilitado})\n                        .then(() => {\n                            if (this.$store.getters['auth/isAuthenticated']) {\n                                this.$router.push('/')\n                            } else {\n                                this.error = 'Informações Inválidas: Tente um email diferente.'\n                            }\n                        })\n                }\n\n                this.loading = false\n            }\n        },\n        computed: {\n            ...mapState({\n                token: state => state.auth.token\n            })\n        }\n    };\n</script>\n\n<style scoped lang=\"css\">\n\n</style>\n"]}]}